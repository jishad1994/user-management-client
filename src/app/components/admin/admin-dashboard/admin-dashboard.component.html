<div class="container">
  <button (click)="logout()">logout</button>
  <h2>Admin Dashboard</h2>
  <input type="text" [(ngModel)]="searchQuery" (input)="searchUsers()" placeholder="Search users..." />
  <table>
    <thead>
      <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of (users$|async)">
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.phone }}</td>
        <td>
          <button (click)="editUser(user)">Edit</button>
          <button (click)="deleteUser(user._id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
  <h3>Create/Edit User</h3>
  <form (ngSubmit)="saveUser()">
    <input type="text" [(ngModel)]="newUser.username" name="username" placeholder="Username" />
    <input type="email" [(ngModel)]="newUser.email" name="email" placeholder="Email" />
    <input type="text" [(ngModel)]="newUser.phone" name="phone" placeholder="Phone" />
    <input type="password" [(ngModel)]="newUser.password" name="password" placeholder="Password" />
    <select [(ngModel)]="newUser.role" name="role">
      <option value="user">User</option>
      <option value="admin">Admin</option>
    </select>
    <button type="submit">Save</button>
  </form>
</div>